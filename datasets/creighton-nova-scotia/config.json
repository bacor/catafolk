{
    "dataset_id": "creighton-nova-scotia",
    "file_pattern": "kern/*.krn",
    "transformations": [
        ["constant", "has_music", true],
        ["constant", "has_lyrics", false],
        ["constant", "source_key", "creighton1932nova"],

        ["rename", "file.OTL", "title"],
        ["rename", "file.ARE", "location"],
        ["rename", "file.URL", "url"],
        ["rename", "file.ENC1", "encoder"],
        ["rename", "file.CNT", "culture"],
        ["rename", "file.MRD", "collection_date"],
        ["rename", "file.OCL", "collector"],
        ["rename", "file.MPN", "performer"],
        ["rename", "file.AGN", "genre"],
        ["rename", "file.YEC", "copyright"],
        ["rename", "file.PPG", "source_page_num"],

        [
            "format", "id", "preview_url", 
            {"pattern": "https://verovio.humdrum.org/?file=users/craig/songs/creighton/nova/{}.krn"}
        ],
        [
            "format", "path", "url", 
            {"pattern": "https://github.com/craigsapp/creighton-nova-scotia/blob/master/{}"}
        ],

        {
            "operation": "regex_extract_groups",
            "inputs": ["file.ONM"],
            "outputs": ["source_song_num"],
            "params": {
                "pattern": "(\\d+)\\.",
                "extract_groups": [1]
            }
        }
    ]
}